<!DOCTYPE html>
<html>
    <head><title>웹 프로그래밍</title></head>
    <body>
        <script>
            // JS는 함수 레벨 스코프(function-level scope)이다.
            var num; // 전역변수 num 선언
            var arr = [10, 20, 30, , ];

            arr[4] = 50;

            function f(state) {
                // 지역변수 num 선언, 함수 f()내에서 전역변수 num을 오버로드함
                var num = 10; 
                if(state) {
                    // 지역변수 재선언, 값을 지정해 주지 않았으므로 같은 함수 f() 내의 이전값 유지
                    var num; 
                    // 값 지정시 num의 값 업데이트
                    // var num = 0; 
                }
                return num;
            }

            function printArr() {
                for(var i=0; i<arr.length; i++)
                    document.write("arr[" + i + "] = " + arr[i] + "<br>");
                
                // 지역변수 num 선언, 함수 printArr()내에서 전역변수 num을 오버로드함
                var num = arr.length; 
                var sum = 0;
                for(var i=0; i<num; i++) { 
                    //arr[3]이 undefined 이므로 이후 sum이 NaN이 됨
                    sum += arr[i];
                    // 단계별 sum값 확인
                    // document.write(" sum(arr[0~" + i +"]) : " + sum + "<br>");
                }
                return sum / num;
            }

            document.write(" f(true) : " + f(true) + "<br>");
            document.write(" f(false) : " + f(false) + "<br><br>");
            document.write(" num : " + num + "<br><br>"); // 전역변수 num 출력

            var ave = printArr();
            document.write("<br>평균 : <b>" + ave + "</b>");
        </script>
    </body>
</html>